@title[Introduction]
# PYTHONとJAVASCRIPTによる<br>生命科学データ解析における<br>可視化サービスの構築

### 2018/06/04 みんなのPython勉強会#36

### 大石直哉 @oec14

---
## 生命科学データベースのWebサービス、何が目的か考えると‥‥

- 研究者に登録されたデータをより多く・効果的に活用してもらうこと |
- 生命科学データベース活用の促進 |

---
AOEでは効果的なデータの活用を実現するために
データの検索・データの取得を容易にするためのデータ可視化を利用したインターフェースを提供しようと考えています。

---
## Webサービスのユーザインターフェース<br>としてのデータ可視化の役割
- データベース・データセットの統計指標的な意味を伝えること |
- 探索的（データベースとの双方向的）なデータ検索・利用のインターフェースを提供すること |

---
## 探索的可視化の実例

![AOEのキャプチャー](images/stapy-fig-2.png)

[AOE http://aoe.dbcls.jp](http://aoe.dbcls.jp)

---
## インタラクティブなチャート
- 検索結果の主要なフィールドのヒストグラムをD3.jsで描画。
- Barchartは [d3-brush](https://github.com/d3/d3-brush) を使って選択範囲を決定。
- D3.jsの外部ライブラリの [Crossfilter](http://square.github.io/crossfilter/) を使ってBarchart間の多次元のフィルターを同期しています。

---
## 可視化とサービスの連携
- Webサービスの利用を研究のプロセスの一部と考えると、データを可視化して終わりではないかもしれない。
- データを利用してもらうため、インタラクティブにフィルターしたデータのリストを表示し

---
## AOEでは探索的なデータ可視化の機能として
- データ可視化UIでインタラクティブにフィルターしたデータのリストを表示しています。 |
- リストからはデータの詳細が書かれた外部サイトにリンクします。 |
- 可視化UIに寄ってフィルターされたデータのID一覧を取得できます。|


---
## WebアプリケーションとしてのAOEの構成

![Webアプリケーションの構成](images/stapy-fig-1.png)


---
## Flask  使ってます
- 静的HTMLファイルのルーティング&JSONを返すAPIに使っています。
- URLクエリパラメータをsolrのクエリに変換する処理がアドホックになってしまいがち。汎用性のあるクエリ変換は難しかった。

---
## Riot.js  使ってます
- 取得&フィルターしたデータを複数のUIで共有し、各UIがコンポーンネントとして独立して扱えるようにRiot.jsに移行中。
- Data visualization（D3.js）関係者が集まるとやっぱりフロントエンドフレームワークの話が話題になります。
- ベストかどうかはわからない。他のフレームワーク（React, Vue）と比較していない。自分としてはもっと掘り下げて使えそうという感触。

---
## 探索的な可視化をWebサービスに取り入れると
- 直感的な検索条件の設定と逐次的な可視化のフィードバックが得られる
- 検索条件を見つけることの次のプロセスに自然に利用者を誘導することができる、のでは。


---
## ライフサイエンスデータのDB構築や可視化についてエンジニアとしてどう感じるか



---
## エンジニア向け<br>生命科学データ解析イベントのお知らせ

[Shizuoka.ngs#1
 生命科学ガチ初心者でもできる！エンジニアのためのRNA-seqデータ解析の勉強会](https://shizuoka-ngs.connpass.com/event/82595/)

- 日時 6月30日（土）
- 会場：静岡市葵区レイアップ御幸町ビル（静岡駅の向かいにあるビルです。）
- 内容：NGS解析を一通り手を動かして体験してもらいます。
- ハッシュタグは \#shizuokangs
- ご質問などあれば大石（@oec014）にお尋ねください。