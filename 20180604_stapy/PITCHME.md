@title[Introduction]
# PYTHONとJAVASCRIPTによる<br>生命科学データ解析における<br>可視化サービスの構築

### 2018/06/04 みんなのPython勉強会#36

### 大石直哉 @oec14

---
## 生命科学データベースのUIとしての<br>Webサービスの目的

#### 研究者に登録されたデータを
#### より多く・効果的に活用してもらうこと。 


---
## WebサービスのUIとして<br>データ可視化の役割は何か考えると‥‥
- データベース・データセットの統計指標的な意味を伝えること。 |
- データベースとの双方向的なデータ検索・利用のインターフェースを提供すること。 |
---
ユーザの入力やマウス操作に対応して、逐次的にデータをフィルター＆描画を更新し、
ユーザに情報を提供するような可視化 ＝  __探索的なデータ可視化__

探索的なデータ可視化がデータベース活用のユーザインターフェースとして有効と考えています。


---
## 探索的データ可視化の実例紹介

#### ![AOEのキャプチャー](images/stapy-fig-2.png)

#### [AOE http://aoe.dbcls.jp](http://aoe.dbcls.jp)

---
## インタラクティブなチャート
- 検索結果の主要なフィールドのヒストグラムをD3.jsで描画。
- ヒストグラムは [d3-brush](https://github.com/d3/d3-brush) を使って選択範囲を決定。
- D3.jsの外部ライブラリの [Crossfilter](http://square.github.io/crossfilter/) を使って多次元のヒストグラムのフィルターを同期しています。

---
## データ可視化とサービスの連携
- Webサービスの利用を研究のプロセスの一部と考えると、データを可視化して終わりではないはず。
- グラフィカルでインタラクティブな操作が<br>データ利用の新しい切り口・インターフェースになるのでは。

---
## AOEでは探索的データ可視化によってこんなことを実現しています
- データ可視化UIでインタラクティブにフィルターしたデータのリストを表示しています。 |
- リストからはデータの詳細が書かれた外部サイトにリンクします。 |
- 可視化UIに寄ってフィルターされたデータのID一覧を取得できます。|

---
## Webアプリケーションとしての<br>AOEの構成

![Webアプリケーションの構成](images/stapy-fig-1.png)


---
## Flask  使ってます
- 静的HTMLファイルのルーティング&JSONを返すAPIに使っています。
- URLクエリパラメータをsolrのクエリに変換する処理がアドホックになってしまいがち。汎用性のあるクエリ変換は難しかった。

---
## Riot.js  使ってます
- 取得&フィルターしたデータを複数のUIで共有し、各UIがコンポーンネントとして独立して扱えるようにRiot.jsに移行中。
- Data visualization（D3.js）関係者が集まるとやっぱりフロントエンドフレームワークの話が話題になります。
- ベストかどうかはわからない。他のフレームワーク（React, Vue）と比較していない。自分としてはもっと掘り下げて使えそうという感触。

---
## 探索的可視化を<br>Webサービスに取り入れると
- 直感的・逐次的に検索条件を設定でき、キーワード検索とは別の切り口でデータ利用を促進できる。 |
- データ検索の次のプロセスに自然に利用者を誘導することができる。 |
- のでは。 |

---
## 生命科学のデータベース構築やデータ可視化は今どんな感じ？
- 生命科学は、公共データ活用のデザイン的・エンジニアリング的なフロンティアの一つ。
- より多くのデザイナー・エンジニアが生命科学に関心を持って、この分野がたくさんの課題解決に参与してくれたら良いな、と思っています。

---
### エンジニア向け生命科学データ<br>解析イベントのお知らせ

[Shizuoka.ngs#1
 生命科学ガチ初心者でもできる！エンジニアのためのRNA-seqデータ解析の勉強会](https://shizuoka-ngs.connpass.com/event/82595/)

- 日時 6月30日（土）
- 会場：静岡市葵区レイアップ御幸町ビル（静岡駅の向かいにあるビルです。）
- 内容：NGS解析を一通り手を動かして体験してもらいます。
- Twitterのハッシュタグは \#shizuokangs
- 詳細は大石（@oec014）にお尋ねください。